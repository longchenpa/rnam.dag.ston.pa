<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <meta name="author" content="Maxim Sokhatsky" />
    <title>2019-02-13</title>
    <link rel="stylesheet" href="https://n2o.dev/blank.css" />
    <link rel="stylesheet" href="../../journal.css" />
</head>
<body>
<nav>
    <a href='../../index.html'>5HT</a>
    <a href='../index.html'>TOP</a>
    <a href='#'>2019-02-13</a>
</nav>
<main>
    <section>
        <h3>Новая версия EMQ X</h3>

        <p> С 2012 года, когда Фенг Ли стартовал EMQ на гитхаб, прошло много времени.
            За это время его клиентами стали Ericsson, Huawei, China Telecom, VMware, HP.
            Мы тоже работаем на его стеке, наш пекаджинг EMQ 2.1 включает две библиотеки:
            <a href="https://github.com/synrc/emqttd">synrc/emqttd</a>,
            <a href="https://github.com/synrc/emq_dashboard">synrc/emq_dashboard</a>.</p>

        <p> С недавнего времени (в районе года) ведётся розработка третьей версии EMQ X,
            которая значительно переработана. Во-первых, в ней используется библиотека
            транзакционной цепочки, которая пишет бинари в файл; во-вторых — выброшен mochiweb,
            и теперь листенеры и дашборд поостроены на втором ковбое. В управляющем API
            также изменения: библиотека minirest, отдельное приложение emqx_management.
            Также кластерный кастомный ремоутинг, ekka, теперь по-умолчанию вколючена в поставку.</p>

        <h3> XIO</h3>

        <p> Я дождался версии 3.0.1 и как всегда решил показать как мы работаем с EMQ.
            Как и с riak и с rabbitmq мы все пакуем в одну в эрланг машину вместе с основным
            приложением, поэтому нам интересны только версии эрланг продуктов, которые можно
            использовать как обычные либы для rebar, rebar3, mad. Мы работаем только с этими
            пакетными менеджрами и пока не видим особой мотивации ни переходить на Elixir ни на Mix.
            В EMQ X используется cuttlefish для конфигов, который я не стыл вырезать
            хирургически, как в EMQ 2.1, а наоборот, пошёл на встречу и добавил поддержу PEG файлов
            neotoma в MAD. Теперь MAD из мастера поддерживает и PEG-компляцию!</p>

        <p> Так как для EMQ 2.x мы использовали организацию VOXOZ, а многие либы пересекаются
            по именам с другими версиями по совместимости, я решил сделать отдельную организацию для
            emqx.io, и назвал ее просто XIO, типа EMQ XIO — наш пакаджинг EMQ X.</p>

        <p>
            — <a href="https://github.com/xio/emqx">github.com/xio/emqx</a> — 3.0.1<br>
            — <a href="https://github.com/xio/emqx-dashboard">github.com/xio/emqx-dashboard</a> — 3.0.1<br>
            — <a href="https://github.com/xio/emqx-management">github.com/xio/emqx-management</a> — 3.0.1<br>
            — <a href="https://github.com/xio/ekka">github.com/xio/ekka</a> — 0.5.3<br>
            — <a href="https://github.com/xio/gen_rpc">github.com/xio/gen_rpc</a> — 2.3.0<br>
            — <a href="https://github.com/xio/cuttlefish">github.com/xio/cuttlefish</a> — 2.2.1<br>
            — <a href="https://github.com/xio/clique">github.com/xio/clique</a> — 0.3.11<br>
            — <a href="https://github.com/xio/replayq">github.com/xio/replayq</a> — 0.1.1<br>
            — <a href="https://github.com/xio/esockd">github.com/xio/esockd</a> — 5.4.4<br>
            — <a href="https://github.com/xio/neotoma">github.com/xio/neotoma</a> — 1.7.4<br>
            — <a href="https://github.com/xio/minirest">github.com/xio/minirest</a> — 0.1.0<br>
            — <a href="https://github.com/xio/jsx">github.com/xio/jsx</a> — 2.9.0<br>
            — <a href="https://github.com/xio/getopt">github.com/xio/getopt</a> — 0.8.2<br>
            — <a href="https://github.com/xio/ssl_verify_fun.erl">github.com/xio/ssl_verify_fun.erl</a> — 1.1.4<br>
         </p>

         <p> Домашняя страница проекта — <a href="https://mq.erp.uno">mq.erp.uno</a>.
             Там же вы найдете инструкции по установке с помощью MAD, но и c REBAR3 тоже должно
             работать.</p>

        <p>Фидбек по продукту: <a href="https://github.com/5ht/tonpa.guru/issues/8">https://github.com/5ht/tonpa.guru/issues/8</a></p>

    </section>
</main>
<footer>Namdak Tonpa <span class="heart">&nbsp;❤&nbsp;</span> 2009—2019</footer>
</body>
</html>
